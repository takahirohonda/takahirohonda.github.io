"use strict";(self.webpackChunkmydatahack_blog_site=self.webpackChunkmydatahack_blog_site||[]).push([[4059],{73455:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var o=t(74848),r=t(28453);const a={sidebar_position:9},l="Using yarn link to develop React library locally",i={id:"Web/Frontend/yarn-link",title:"Using yarn link to develop React library locally",description:"When you develop a react library locally, you can use yarn link to link the repo for the react module to the react app. In this way, the react app will use the local version of the module.",source:"@site/docs/Web/Frontend/9.yarn-link.md",sourceDirName:"Web/Frontend",slug:"/Web/Frontend/yarn-link",permalink:"/mydatahack-old-blog/docs/Web/Frontend/yarn-link",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"tutorialSidebar",previous:{title:"How to fix react-day-picker flickering hover state between mouseenter and mouseleave",permalink:"/mydatahack-old-blog/docs/Web/Frontend/react-day-picker-flicker-bug"},next:{title:"https://www.mydatahack.com/running-jest-when-you-are-importing-a-file-which-jest-cannot-parse/",permalink:"/mydatahack-old-blog/docs/Web/Frontend/jest-cannot-parse"}},s={},c=[];function d(e){const n={code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"using-yarn-link-to-develop-react-library-locally",children:"Using yarn link to develop React library locally"}),"\n",(0,o.jsx)(n.p,{children:"When you develop a react library locally, you can use yarn link to link the repo for the react module to the react app. In this way, the react app will use the local version of the module."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Go to the module source repo."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"yarn link"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"Go to the repo that uses the module"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"yarn link <the name of the module from the output above>"})}),"\n",(0,o.jsx)(n.p,{children:"Now you can start using the library by just importing."}),"\n",(0,o.jsx)(n.p,{children:"Yep, it\u2019s easy."}),"\n",(0,o.jsx)(n.p,{children:"But\u2026 there is a catch."}),"\n",(0,o.jsx)(n.p,{children:"Now, you\u2019ll get this error message."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"Error: Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.\n"})}),"\n",(0,o.jsx)(n.p,{children:"To fix this, you need to delete node_modules, move react and react-dom to peerDependencies and the re-install all the dependencies."}),"\n",(0,o.jsx)(n.p,{children:"It\u2019s a bit of effort, but it works now!"}),"\n",(0,o.jsx)(n.p,{children:"(2022-03-01)"})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>i});var o=t(96540);const r={},a=o.createContext(r);function l(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);