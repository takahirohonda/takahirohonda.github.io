"use strict";(self.webpackChunkmydatahack_blog_site=self.webpackChunkmydatahack_blog_site||[]).push([[9592],{82298:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var s=t(74848),o=t(28453);const r={sidebar_position:6},i="Setting up Docker and Serverless Development Environment in Ubuntu",a={id:"Infrastructure/Miscellaneous/serverless-docker",title:"Setting up Docker and Serverless Development Environment in Ubuntu",description:"Docker and Serverless do not work well with Windows. I have tried so many different ways to make them work, to no avail. My solution is to use an Ubuntu virtual machine. I primarily use those frameworks for AWS lambda developments with both Python and Node.js. Here is how I set up my environment with Ubuntu 16.0.4 LTS.",source:"@site/docs/Infrastructure/Miscellaneous/6.serverless-docker.md",sourceDirName:"Infrastructure/Miscellaneous",slug:"/Infrastructure/Miscellaneous/serverless-docker",permalink:"/docs/Infrastructure/Miscellaneous/serverless-docker",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"How to Deploy Python Lambda Function with Serverless in AWS (Introduction)",permalink:"/docs/Infrastructure/Miscellaneous/serveless-python-intro"},next:{title:"How to Install Python 3 and Create Virtual Environment In Ubuntu",permalink:"/docs/Infrastructure/Miscellaneous/python-virtual-env"}},l={},c=[];function d(e){const n={code:"code",h1:"h1",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"setting-up-docker-and-serverless-development-environment-in-ubuntu",children:"Setting up Docker and Serverless Development Environment in Ubuntu"}),"\n",(0,s.jsx)(n.p,{children:"Docker and Serverless do not work well with Windows. I have tried so many different ways to make them work, to no avail. My solution is to use an Ubuntu virtual machine. I primarily use those frameworks for AWS lambda developments with both Python and Node.js. Here is how I set up my environment with Ubuntu 16.0.4 LTS."}),"\n",(0,s.jsx)(n.p,{children:"(1) Install Python 3.6"}),"\n",(0,s.jsx)(n.p,{children:"You first need to install Python 3.6 for your user. I create virtual environment for each function depending on what libraries are needed. We covered this step in the previous post. Here is the instruction: How to Install Python 3 and Create Virtual Environment in Ubuntu."}),"\n",(0,s.jsx)(n.p,{children:"(2) Install Node.js 8"}),"\n",(0,s.jsx)(n.p,{children:"Execute the commands below. Make sure that you have sudo access."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt-get update\ncurl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -\nsudo apt-get install -y nodejs\nsudo npm install npm --global\n"})}),"\n",(0,s.jsx)(n.p,{children:"(3) Install serverless"}),"\n",(0,s.jsx)(n.p,{children:"Serverless works on Node. Installation is simple. See further information here."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"sudo npm install -g serverless"})}),"\n",(0,s.jsx)(n.p,{children:"(4) Install Docker"}),"\n",(0,s.jsx)(n.p,{children:"Using Docker with Linux and Mac is far easier than Windows. Once you install it, there is no hustle. It just works. See further information here."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'sudo apt-get update\nsudo apt-get install \\\n    apt-transport-https \\\n    ca-certificates \\\n    curl \\\n    software-properties-common\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\nsudo add-apt-repository \\\n   "deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n  $(lsb_release -cs) \\\n  stable"\nsudo apt-get update\nsudo apt-get install docker-ce\n'})}),"\n",(0,s.jsx)(n.p,{children:"Make sure that your Docker is running by executing the hello world container."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"sudo docker run hello-world"}),"\n(5) Install AWS CLI and Configure it"]}),"\n",(0,s.jsx)(n.p,{children:"Serverless uses the credentials configured in AWS CLI. To install AWS CLI, you should use the OS python. You first need to install and upgrade pip as AWS CLI installation for Linux uses pip. See here for details."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install python-pip\npip install \u2013-upgrade pip\npip install awscli --upgrade --user\naws configure\n"})}),"\n",(0,s.jsx)(n.p,{children:"Setting Up Development Environment"}),"\n",(0,s.jsx)(n.p,{children:"To have a good development environment for Python and Node, let\u2019s install Visual Studio Code and Google Chrome."}),"\n",(0,s.jsx)(n.p,{children:"Install Visual Studio Code"}),"\n",(0,s.jsx)(n.p,{children:"Once it is installed, type code in the terminal to start it."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > microsoft.gpg\nsudo mv microsoft.gpg /etc/apt/trusted.gpg.d/microsoft.gpg\nsudo sh -c 'echo \"deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main\" > /etc/apt/sources.list.d/vscode.list'\ncurl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > microsoft.gpg\nsudo mv microsoft.gpg /etc/apt/trusted.gpg.d/microsoft.gpg\nsudo sh -c 'echo \"deb [arch=amd64] https://packages.microsoft.com/repos/vscode stable main\" > /etc/apt/sources.list.d/vscode.list'\n"})}),"\n",(0,s.jsx)(n.p,{children:"Install Google Chrome"}),"\n",(0,s.jsx)(n.p,{children:"Once it is installed, type google-chrome in the terminal to start the browser."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | sudo apt-key add -\necho 'deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main' | sudo tee /etc/apt/sources.list.d/google-chrome.list\nsudo apt-get update\nsudo apt-get install google-chrome-stable\n"})}),"\n",(0,s.jsx)(n.p,{children:"Next Step"}),"\n",(0,s.jsx)(n.p,{children:"Your environment is ready now. Let\u2019s try to do the deployment exercise: How to Deploy Python Lambda Function with Serverless in AWS"}),"\n",(0,s.jsx)(n.p,{children:"(2018-03-04)"})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(96540);const o={},r=s.createContext(o);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);