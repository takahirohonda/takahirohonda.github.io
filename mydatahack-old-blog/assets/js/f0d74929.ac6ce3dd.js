"use strict";(self.webpackChunkmydatahack_blog_site=self.webpackChunkmydatahack_blog_site||[]).push([[796],{97560:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var o=t(74848),s=t(28453);const a={sidebar_position:10},r="https://www.mydatahack.com/running-jest-when-you-are-importing-a-file-which-jest-cannot-parse/",i={id:"Web/Frontend/jest-cannot-parse",title:"https://www.mydatahack.com/running-jest-when-you-are-importing-a-file-which-jest-cannot-parse/",description:"When you are running jest and encounter the error below, the solution is simple. You need to add transformIgnorePatterns in the jest config. For example, you can simply add this in your package.json.",source:"@site/docs/Web/Frontend/10.jest-cannot-parse.md",sourceDirName:"Web/Frontend",slug:"/Web/Frontend/jest-cannot-parse",permalink:"/mydatahack-old-blog/docs/Web/Frontend/jest-cannot-parse",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Using yarn link to develop React library locally",permalink:"/mydatahack-old-blog/docs/Web/Frontend/yarn-link"},next:{title:"What is the best module system for a React component library?",permalink:"/mydatahack-old-blog/docs/Web/Frontend/best-module-system-react-component-lib"}},c={},d=[];function l(e){const n={a:"a",code:"code",h1:"h1",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"httpswwwmydatahackcomrunning-jest-when-you-are-importing-a-file-which-jest-cannot-parse",children:(0,o.jsx)(n.a,{href:"https://www.mydatahack.com/running-jest-when-you-are-importing-a-file-which-jest-cannot-parse/",children:"https://www.mydatahack.com/running-jest-when-you-are-importing-a-file-which-jest-cannot-parse/"})}),"\n",(0,o.jsx)(n.p,{children:"When you are running jest and encounter the error below, the solution is simple. You need to add transformIgnorePatterns in the jest config. For example, you can simply add this in your package.json."}),"\n",(0,o.jsx)(n.p,{children:"This is usually caused by using a third party library that uses ES module."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'"jest": {\n  "transformIgnorePatterns": [\n      "/node_modules/@mdhnpm/(?!react-cube-loading-spinner)"\n  ]\n},\n'})}),"\n",(0,o.jsxs)(n.p,{children:["The patterns are regex for the module path. You can have super long one to ignore different libraries like ",(0,o.jsx)(n.code,{children:"\u201c/node_modules/(?!@mdhnpm|react-toastify|react-image-crop|@tippyjs|@brainhubeu|tippy.js)\u201d"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"\u25cf Test suite failed to run\n\nJest encountered an unexpected token\n"})}),"\n",(0,o.jsx)(n.p,{children:"This usually means that you are trying to import a file which Jest cannot parse, e.g. it's not plain JavaScript."}),"\n",(0,o.jsx)(n.p,{children:'By default, if Jest sees a Babel config, it will use that to transform your files, ignoring "node_modules".'}),"\n",(0,o.jsx)(n.p,{children:"Here's what you can do:"}),"\n",(0,o.jsxs)(n.p,{children:["\u2022 If you are trying to use ECMAScript Modules, see ",(0,o.jsx)(n.a,{href:"https://jestjs.io/docs/en/ecmascript-modules",children:"https://jestjs.io/docs/en/ecmascript-modules"}),' for how to enable it.\n\u2022 To have some of your "node_modules" files transformed, you can specify a custom "transformIgnorePatterns" in your config.\n\u2022 If you need a custom transformation specify a "transform" option in your config.\n\u2022 If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the "moduleNameMapper" config option.']}),"\n",(0,o.jsxs)(n.p,{children:["You'll find more details and examples of these config options in the docs:\n",(0,o.jsx)(n.a,{href:"https://jestjs.io/docs/en/configuration.html",children:"https://jestjs.io/docs/en/configuration.html"})]}),"\n",(0,o.jsx)(n.p,{children:"(2022-03-01)"})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>i});var o=t(96540);const s={},a=o.createContext(s);function r(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);