"use strict";(self.webpackChunkmydatahack_blog_site=self.webpackChunkmydatahack_blog_site||[]).push([[4958],{47005:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>a,metadata:()=>i,toc:()=>h});var o=t(74848),r=t(28453);const a={sidebar_position:20},s="What You May Not Know About Enzyme's Mount Method",i={id:"Web/Frontend/enzyme-mount-method",title:"What You May Not Know About Enzyme's Mount Method",description:"If you are a React developer, you probably know the difference between mount and shallow when you are unit testing react components with enzyme. Mount renders full DOM. We use it when the component interacts with DOM Api or require a full lifecycle to fully test the component. On the other hand, shallow renders only the component you are testing to avoid asserting on the behaviours of child components indirectly. Ok, these are pretty well known facts.",source:"@site/docs/Web/Frontend/20.enzyme-mount-method.md",sourceDirName:"Web/Frontend",slug:"/Web/Frontend/enzyme-mount-method",permalink:"/mydatahack-old-blog/mydatahack-old-blog/Web/Frontend/enzyme-mount-method",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_position:20},sidebar:"tutorialSidebar",previous:{title:"Using Font Files Downloaded From Google Font",permalink:"/mydatahack-old-blog/mydatahack-old-blog/Web/Frontend/use-google-font"},next:{title:"Executing Web Skimmers Inside CSS and SVG files",permalink:"/mydatahack-old-blog/mydatahack-old-blog/Web/Frontend/web-skimmer-inside.css"}},l={},h=[];function d(e){const n={code:"code",h1:"h1",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"what-you-may-not-know-about-enzymes-mount-method",children:"What You May Not Know About Enzyme's Mount Method"}),"\n",(0,o.jsx)(n.p,{children:"If you are a React developer, you probably know the difference between mount and shallow when you are unit testing react components with enzyme. Mount renders full DOM. We use it when the component interacts with DOM Api or require a full lifecycle to fully test the component. On the other hand, shallow renders only the component you are testing to avoid asserting on the behaviours of child components indirectly. Ok, these are pretty well known facts."}),"\n",(0,o.jsx)(n.p,{children:"Ok, so if you have a component without a child, do you think both shallow and mount render html the same? The answer is no. They actually render differently. In short, mount renders html wrapped with the component tag while shallow just renders as you expect."}),"\n",(0,o.jsx)(n.p,{children:"We have a simple component like this."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import React from "react";\n\nconst Wrapper = ({ children }) => <div className="wrapper">{children}</div>;\nexport default Wrapper;\n'})}),"\n",(0,o.jsx)(n.p,{children:"When we use mount, the div will be rendered as below. This can be console-logged by using .debug()."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'<Wrapper>\n  <div className="wrapper">\n    Children here\n  </div>\n</Wrapper>\nOn the other hand, shallow will render the component as below.\n\n<div className="wrapper">\n  Children here\n</div>\n'})}),"\n",(0,o.jsx)(n.p,{children:"When you assert with mount, you cannot assert without finding the div first. Of course, the correct thing to do here is to use shallow. Mount is not the right method to use for a simple component like this."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:'import React from "react";\nimport { mount, shallow } from "enzyme";\nimport Wrapper from ".";\n\ndescribe("<Wrapper />", () => {\n  test("renders with correct className with mount", () => {\n    const wrapper = mount(<Wrapper>Children here</Wrapper>);\n    console.log(wrapper.debug());\n    expect(wrapper.find("div").hasClass("wrapper")).toBeTruthy();\n  });\n\n  test("renders with correct className with shallow", () => {\n    const wrapper = shallow(<Wrapper>Children here</Wrapper>);\n    console.log(wrapper.debug());\n    expect(wrapper.hasClass("wrapper")).toBeTruthy();\n  });\n});\n'})}),"\n",(0,o.jsx)(n.p,{children:"(2021-03-23)"})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var o=t(96540);const r={},a=o.createContext(r);function s(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);