"use strict";(self.webpackChunkmydatahack_blog_site=self.webpackChunkmydatahack_blog_site||[]).push([[1431],{97449:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var a=t(74848),s=t(28453);const i={sidebar_position:34},o="Releasing Multiple PWAs to GooglePlay By Using a Single GitHub Page Root",r={id:"Web/Frontend/release-multiple-pwas",title:"Releasing Multiple PWAs to GooglePlay By Using a Single GitHub Page Root",description:"PWA is pretty exciting. As long as you have a static web hosting service, you can create a mobile app with a web site.",source:"@site/docs/Web/Frontend/34.release-multiple-pwas.md",sourceDirName:"Web/Frontend",slug:"/Web/Frontend/release-multiple-pwas",permalink:"/docs/Web/Frontend/release-multiple-pwas",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:34,frontMatter:{sidebar_position:34},sidebar:"tutorialSidebar",previous:{title:"Why Istanbul Is Not Working After Cloning A Repo",permalink:"/docs/Web/Frontend/istanbul-not-working"},next:{title:"Better Way to Attach Event Listener with Vanilla JS",permalink:"/docs/Web/Frontend/attache-event-listener"}},p={},l=[];function d(e){const n={code:"code",h1:"h1",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"releasing-multiple-pwas-to-googleplay-by-using-a-single-github-page-root",children:"Releasing Multiple PWAs to GooglePlay By Using a Single GitHub Page Root"}),"\n",(0,a.jsx)(n.p,{children:"PWA is pretty exciting. As long as you have a static web hosting service, you can create a mobile app with a web site."}),"\n",(0,a.jsx)(n.p,{children:"I\u2019ve written a few posts about packaging and releasing an Android app to GooglePlay in the past."}),"\n",(0,a.jsx)(n.p,{children:"\u2013 Tips on Creating Android App from PWA"}),"\n",(0,a.jsx)(n.p,{children:"\u2013 Why Address Bar Is Not Hidden \u2013 Android App with TWA"}),"\n",(0,a.jsx)(n.p,{children:"The first app I created was hosted on a GitHub page. Then, I created a second app and wanted to host from the same GitHub page root url with different starting url. It turned out that this was super easy to do. I am pretty sure there are many people out there trying to do the same thing as me. So, if you are interested in publishing multiple apps from a single github.io root url, this is how it works."}),"\n",(0,a.jsx)(n.p,{children:"(1) Create Folders and set different start URL"}),"\n",(0,a.jsx)(n.p,{children:"First step is to create folders and set different start URLs for each app."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"- root\n  - app1\n    - index.html\n    ...\n  - app2\n    - index.html\n    ...\n"})}),"\n",(0,a.jsx)(n.p,{children:"(2) Set different start URL and keep root URL the same in AndroidManifest.xml"}),"\n",(0,a.jsx)(n.p,{children:"When you package apps with Android Studio, you can set two different starting url. But, you can still use the same url for the root."}),"\n",(0,a.jsx)(n.p,{children:"In AndroidManifest.xml, you can set the url opened by the TWA with the folder name appended to the root url."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'android:name="android.support.customtabs.trusted.DEFAULT_URL"\nandroid:value="https://mygithubusername.github.io/app1/"\nThe second app can have a different url to open.\n\nandroid:name="android.support.customtabs.trusted.DEFAULT_URL"\nandroid:value="https://mygithubusername.github.io/app2/"\n'})}),"\n",(0,a.jsx)(n.p,{children:"In strings.xml, we can use the same value for asset statements with different app names."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'\x3c!-- For the first app --\x3e\n<resources>\n  <string name="app_name">My First App</string>\n  <string name="asset_statements">\n    [{\n    \\"relation\\": [\\"delegate_permission/common.handle_all_urls\\"],\n    \\"target\\": {\n    \\"namespace\\": \\"web\\",\n    \\"site\\": \\"https://mygithubusername.github.io\\"}\n    }]\n  </string>\n</resources>\n\n\x3c!-- For the second app --\x3e\n  <string name="app_name">My Second App</string>\n  <string name="asset_statements">\n    [{\n    \\"relation\\": [\\"delegate_permission/common.handle_all_urls\\"],\n    \\"target\\": {\n    \\"namespace\\": \\"web\\",\n    \\"site\\": \\"https://mygithubusername.github.io\\"}\n    }]\n  </string>\n</resources>\n'})}),"\n",(0,a.jsx)(n.p,{children:"(3) Add two apps in the same assetlinks.json file"}),"\n",(0,a.jsx)(n.p,{children:"You have .well-known/assetlinks.json in the root. The file takes an array of json object. You can keep appending the apps with their own package names and sha256 cert fingerprints as below. For further information about sharing credentials with apps and sites, you can checkout Google documentation here."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "relation": ["delegate_permission/common.handle_all_urls"],\n    "target": {\n      "namespace": "android_app",\n      "package_name": "com.mydatahack.firstapp",\n      "sha256_cert_fingerprints": [\n        "sha from app sigining in GooglePlay console for 1st app"\n      ]\n    }\n  },\n  {\n    "relation": ["delegate_permission/common.handle_all_urls"],\n    "target": {\n      "namespace": "android_app",\n      "package_name": "com.mydatahack.secondapp",\n      "sha256_cert_fingerprints": [\n        "sha from app sigining in GooglePlay console for 2nd app"\n      ]\n    }\n  }\n]\n'})}),"\n",(0,a.jsx)(n.p,{children:"Now, we have multiple apps published from a single github.io page. As you can host static sites for free in github.io, this costs nothing."}),"\n",(0,a.jsx)(n.p,{children:"(2019-11-10)"})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var a=t(96540);const s={},i=a.createContext(s);function o(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);