"use strict";(self.webpackChunkmydatahack_blog_site=self.webpackChunkmydatahack_blog_site||[]).push([[4793],{43554:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>c,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>h});var o=n(74848),i=n(28453);const s={sidebar_position:30},c="What is \u2018this\u2019 referencing to in JavaScript?",a={id:"Web/Frontend/this-ref-js",title:"What is \u2018this\u2019 referencing to in JavaScript?",description:"the location where the function is called.",source:"@site/docs/Web/Frontend/30.this-ref-js.md",sourceDirName:"Web/Frontend",slug:"/Web/Frontend/this-ref-js",permalink:"/mydatahack-old-blog/mydatahack-old-blog/Web/Frontend/this-ref-js",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30},sidebar:"tutorialSidebar",previous:{title:"Resizing Image for Frontend with Python",permalink:"/mydatahack-old-blog/mydatahack-old-blog/Web/Frontend/resize-image-with-python"},next:{title:"Getting started with Selenium with Python",permalink:"/mydatahack-old-blog/mydatahack-old-blog/Web/Frontend/selenium-python"}},r={},h=[];function l(e){const t={code:"code",h1:"h1",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"what-is-this-referencing-to-in-javascript",children:"What is \u2018this\u2019 referencing to in JavaScript?"}),"\n",(0,o.jsx)(t.p,{children:"the location where the function is called."}),"\n",(0,o.jsx)(t.p,{children:"When a function\u2019s call-site is inside an object, this refers to the object where the function belongs to. When a function\u2019s call-site is in the window\u2019s object, this refers to the global objects."}),"\n",(0,o.jsx)(t.p,{children:"If you are not familiar with this, the explanation above is probably not sufficient. Let\u2019s have a look at actual examples."}),"\n",(0,o.jsx)(t.p,{children:"Example"}),"\n",(0,o.jsx)(t.p,{children:"Can you tell the output of this code example?"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:'var a = "global";\n\nvar check = {\n  a: "hello",\n  b: function () {\n    console.log(this.a);\n  },\n  c: function () {\n    setTimeout(function () {\n      // this becomes global because setTimeout\'s call site is global\n      // as setTimout is window.setTimeout\n      console.log(this.a);\n    }, 0);\n  },\n  d: function () {\n    // we can reassign this to _this\n    var _this = this;\n    setTimeout(function () {\n      console.log(_this.a);\n    });\n  },\n  e: function () {\n    // Arrow function brings lexical scope\n    setTimeout(() => {\n      console.log(this.a);\n    });\n  },\n};\n\ncheck.b();\ncheck.c();\ncheck.d();\ncheck.e();\n'})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:"Output"})}),"\n",(0,o.jsx)(t.p,{children:"Here is the output from the code example above."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"hello\nglobal\nhello\nhello\n"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:"Explanation"})}),"\n",(0,o.jsx)(t.p,{children:"The function b\u2019s call-site is the check object. Therefore, this.a refers to a that belongs\xe5 to the check object."}),"\n",(0,o.jsx)(t.p,{children:"In the function c, setTimeout\u2019s call-site is the windows object (window.setTimeout). Therefore, this refers to the global object. Hence, this.a is from the global scope. If you delete a in the global namespace, this.a becomes undefined."}),"\n",(0,o.jsx)(t.p,{children:"The function d uses the old school technique of reassigning this to _this. By using _this, setTimeout has access to the a variable within the check object."}),"\n",(0,o.jsx)(t.p,{children:"ES6 arrow function introduced lexical scope. Therefore, this refers to the check object in the function e as we are using the arrow function for the setTimeout callback function."}),"\n",(0,o.jsx)(t.p,{children:"Hope this helps you to clarify this."}),"\n",(0,o.jsx)(t.p,{children:"(2020-02-28)"})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>a});var o=n(96540);const i={},s=o.createContext(i);function c(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);