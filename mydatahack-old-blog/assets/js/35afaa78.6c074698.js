"use strict";(self.webpackChunkmydatahack_blog_site=self.webpackChunkmydatahack_blog_site||[]).push([[3769],{13919:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var n=t(74848),s=t(28453);const o={sidebar_position:5},a="AWS CDK ERROR: There is already a Construct with name \u2018XYZ\u2019",i={id:"Infrastructure/AWS/aws-cdk-error",title:"AWS CDK ERROR: There is already a Construct with name \u2018XYZ\u2019",description:"When I was running AWS CDK, I got this error and couldn\u2019t really find the answer when I googled it. This error might happen for different reasons, but I worked out what was wrong with my CDK code after a few hours of googling and trying out different things. I\u2019m hoping this post will save you hours going crazy on this mystery error message.",source:"@site/docs/Infrastructure/AWS/5.aws-cdk-error.md",sourceDirName:"Infrastructure/AWS",slug:"/Infrastructure/AWS/aws-cdk-error",permalink:"/mydatahack-old-blog/mydatahack-old-blog/Infrastructure/AWS/aws-cdk-error",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"How to Run Lambda Function Every 30 Seconds",permalink:"/mydatahack-old-blog/mydatahack-old-blog/Infrastructure/AWS/lambda-every-30-sec"},next:{title:"How To Optimise Memory Allocation For Lambda Functions",permalink:"/mydatahack-old-blog/mydatahack-old-blog/Infrastructure/AWS/optimise-memory-allocation"}},c={},d=[];function h(e){const r={code:"code",h1:"h1",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"aws-cdk-error-there-is-already-a-construct-with-name-xyz",children:"AWS CDK ERROR: There is already a Construct with name \u2018XYZ\u2019"}),"\n",(0,n.jsx)(r.p,{children:"When I was running AWS CDK, I got this error and couldn\u2019t really find the answer when I googled it. This error might happen for different reasons, but I worked out what was wrong with my CDK code after a few hours of googling and trying out different things. I\u2019m hoping this post will save you hours going crazy on this mystery error message."}),"\n",(0,n.jsx)(r.p,{children:"Error"}),"\n",(0,n.jsx)(r.p,{children:"Error is thrown in construct.ts as below."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"throw new Error(`There is already a Construct with name '${childName}'\nin ${typeName}${name.length > 0 ? ' [' + name + ']' : ''}`);\n\nError: There is already a Construct with name 'XYZ' in XYZStack\n"})}),"\n",(0,n.jsx)(r.p,{children:"Solution"}),"\n",(0,n.jsx)(r.p,{children:"In stack, each construct requires to have a unique id. In my original code, I was just passing the id two both construct, which was causing this error."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-ts",children:"constructor(scope: cdk.Construct, id: string, props?: cdk.StackProps) {\n    super(scope, id, props);\n\n    // The code that defines your stack goes here\n    new S3Bucket(this, id);\n    new ConnectDataKinesisStream(this, id);\n  }\n"})}),"\n",(0,n.jsx)(r.p,{children:"The solution to make this id unique. I added the resource suffix. But, this can be whatever as long as each construct has different id."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-ts",children:"constructor(scope: cdk.Construct, id: string, props?: cdk.StackProps) {\n    super(scope, id, props);\n\n    // The code that defines your stack goes here\n    new S3Bucket(this, id + '-s3');\n    new ConnectDataKinesisStream(this, id + '-kinesis');\n  }\n"})}),"\n",(0,n.jsx)(r.p,{children:"This is it. Error\u2019s gone. Happy building!"}),"\n",(0,n.jsx)(r.p,{children:"(2020-08-12)"})]})}function u(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},28453:(e,r,t)=>{t.d(r,{R:()=>a,x:()=>i});var n=t(96540);const s={},o=n.createContext(s);function a(e){const r=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(o.Provider,{value:r},e.children)}}}]);