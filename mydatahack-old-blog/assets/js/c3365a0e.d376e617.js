"use strict";(self.webpackChunkmydatahack_blog_site=self.webpackChunkmydatahack_blog_site||[]).push([[4793],{24647:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>a});var i=t(74848),o=t(28453);const s={sidebar_position:30},c="What is \u2018this\u2019 referencing to in JavaScript?",r={id:"Web/Frontend/this-ref-js",title:"What is \u2018this\u2019 referencing to in JavaScript?",description:"the location where the function is called.",source:"@site/docs/Web/Frontend/30.this-ref-js.md",sourceDirName:"Web/Frontend",slug:"/Web/Frontend/this-ref-js",permalink:"/docs/Web/Frontend/this-ref-js",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30},sidebar:"tutorialSidebar",previous:{title:"Resizing Image for Frontend with Python",permalink:"/docs/Web/Frontend/resize-image-with-python"},next:{title:"Getting started with Selenium with Python",permalink:"/docs/Web/Frontend/selenium-python"}},h={},a=[];function l(e){const n={code:"code",h1:"h1",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"what-is-this-referencing-to-in-javascript",children:"What is \u2018this\u2019 referencing to in JavaScript?"}),"\n",(0,i.jsx)(n.p,{children:"the location where the function is called."}),"\n",(0,i.jsx)(n.p,{children:"When a function\u2019s call-site is inside an object, this refers to the object where the function belongs to. When a function\u2019s call-site is in the window\u2019s object, this refers to the global objects."}),"\n",(0,i.jsx)(n.p,{children:"If you are not familiar with this, the explanation above is probably not sufficient. Let\u2019s have a look at actual examples."}),"\n",(0,i.jsx)(n.p,{children:"Example"}),"\n",(0,i.jsx)(n.p,{children:"Can you tell the output of this code example?"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'var a = "global";\n\nvar check = {\n  a: "hello",\n  b: function () {\n    console.log(this.a);\n  },\n  c: function () {\n    setTimeout(function () {\n      // this becomes global because setTimeout\'s call site is global\n      // as setTimout is window.setTimeout\n      console.log(this.a);\n    }, 0);\n  },\n  d: function () {\n    // we can reassign this to _this\n    var _this = this;\n    setTimeout(function () {\n      console.log(_this.a);\n    });\n  },\n  e: function () {\n    // Arrow function brings lexical scope\n    setTimeout(() => {\n      console.log(this.a);\n    });\n  },\n};\n\ncheck.b();\ncheck.c();\ncheck.d();\ncheck.e();\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Output"})}),"\n",(0,i.jsx)(n.p,{children:"Here is the output from the code example above."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"hello\nglobal\nhello\nhello\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Explanation"})}),"\n",(0,i.jsx)(n.p,{children:"The function b\u2019s call-site is the check object. Therefore, this.a refers to a that belongs\xe5 to the check object."}),"\n",(0,i.jsx)(n.p,{children:"In the function c, setTimeout\u2019s call-site is the windows object (window.setTimeout). Therefore, this refers to the global object. Hence, this.a is from the global scope. If you delete a in the global namespace, this.a becomes undefined."}),"\n",(0,i.jsx)(n.p,{children:"The function d uses the old school technique of reassigning this to _this. By using _this, setTimeout has access to the a variable within the check object."}),"\n",(0,i.jsx)(n.p,{children:"ES6 arrow function introduced lexical scope. Therefore, this refers to the check object in the function e as we are using the arrow function for the setTimeout callback function."}),"\n",(0,i.jsx)(n.p,{children:"Hope this helps you to clarify this."}),"\n",(0,i.jsx)(n.p,{children:"(2020-02-28)"})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>r});var i=t(96540);const o={},s=i.createContext(o);function c(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);